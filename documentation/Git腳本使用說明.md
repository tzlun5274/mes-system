# Git 腳本使用說明

## 📋 腳本概述

本專案包含兩個 Git 腳本，用於簡化 Git 強制操作：

1. **`git_force_push.sh`** - Git 強制上傳腳本
2. **`git_force_pull.sh`** - Git 強制下載腳本

## 🚀 腳本功能

### 1. Git 強制上傳腳本 (`git_force_push.sh`)

**功能：** 將本機專案強制上傳到遠端 Git 倉庫

**執行步驟：**
1. 檢查 Git 倉庫狀態
2. 顯示當前分支
3. 添加所有變更到暫存區
4. 提交變更（如果有）
5. 獲取遠端最新變更
6. 強制推送到遠端倉庫
7. 顯示最終狀態

**使用方式：**
```bash
./git_force_push.sh
```

**注意事項：**
- ⚠️ 此操作將覆蓋遠端倉庫的內容
- 會要求兩次確認操作
- 建議在執行前備份重要資料

### 2. Git 強制下載腳本 (`git_force_pull.sh`)

**功能：** 從遠端 Git 倉庫強制下載並覆蓋本機專案

**執行步驟：**
1. 檢查 Git 倉庫狀態
2. 檢查本機變更
3. 提供備份選項（如果有未提交變更）
4. 獲取遠端最新變更
5. 重置本機分支到遠端狀態
6. 清理未追蹤的檔案
7. 顯示最終狀態和最近提交

**使用方式：**
```bash
./git_force_pull.sh
```

**注意事項：**
- ⚠️ 此操作將完全覆蓋本機專案內容
- 所有未提交的變更都將丟失
- 提供自動備份功能
- 會要求確認操作

## 🔧 設定執行權限

在首次使用前，請設定腳本執行權限：

```bash
chmod +x git_force_push.sh
chmod +x git_force_pull.sh
```

## 📝 使用範例

### 範例 1：強制上傳本機變更
```bash
# 在專案根目錄執行
./git_force_push.sh

# 腳本會顯示：
# ========================================
#     Git 強制上傳腳本開始執行
# ========================================
# 1. 檢查 Git 狀態...
# 2. 添加所有變更到暫存區...
# 3. 提交變更...
# 4. 獲取遠端最新變更...
# 5. 強制推送到遠端倉庫...
# ========================================
#     強制推送成功！
# ========================================
```

### 範例 2：強制下載遠端變更
```bash
# 在專案根目錄執行
./git_force_pull.sh

# 腳本會顯示：
# ========================================
#     Git 強制下載腳本開始執行
# ========================================
# 1. 檢查本機變更狀態...
# 2. 獲取遠端最新變更...
# 3. 重置本機分支到遠端狀態...
# 4. 清理未追蹤的檔案...
# ========================================
#     強制下載成功！
# ========================================
```

## ⚠️ 重要警告

### 強制上傳腳本警告
- 此操作將覆蓋遠端倉庫的內容
- 其他協作者的工作可能會丟失
- 建議在團隊協作前先溝通

### 強制下載腳本警告
- 此操作將完全覆蓋本機專案內容
- 所有未提交的變更都將丟失
- 建議先備份重要變更

## 🔄 備份功能

強制下載腳本提供自動備份功能：

- 如果檢測到未提交的變更，會詢問是否備份
- 備份會建立一個新的分支，格式：`backup_YYYYMMDD_HHMMSS`
- 備份分支包含所有未提交的變更
- 可以透過 `git checkout backup_分支名稱` 恢復變更

## 🎨 顏色輸出

腳本使用彩色輸出，方便識別不同類型的訊息：

- 🔵 **藍色** - 資訊訊息
- 🟢 **綠色** - 成功訊息
- 🟡 **黃色** - 警告訊息
- 🔴 **紅色** - 錯誤訊息

## 📞 故障排除

### 常見問題

1. **權限錯誤**
   ```bash
   # 解決方案：設定執行權限
   chmod +x git_force_push.sh git_force_pull.sh
   ```

2. **不在 Git 倉庫中**
   ```bash
   # 錯誤：當前目錄不是 Git 倉庫！
   # 解決方案：確保在正確的專案目錄中執行
   ```

3. **網路連線問題**
   ```bash
   # 錯誤：請檢查網路連線和遠端倉庫設定
   # 解決方案：檢查網路連線和 Git 遠端設定
   ```

4. **遠端分支不存在**
   ```bash
   # 錯誤：遠端倉庫中不存在分支
   # 解決方案：檢查分支名稱或遠端倉庫設定
   ```

## 📚 相關命令

### 手動執行相同操作

**強制上傳：**
```bash
git add .
git commit -m "強制更新"
git push origin 分支名稱 --force
```

**強制下載：**
```bash
git fetch origin
git reset --hard origin/分支名稱
git clean -fd
```

## 📄 版本資訊

- **版本：** 1.0.0
- **作者：** MES 系統開發團隊
- **更新日期：** 2025-01-27
- **適用系統：** Linux/macOS

---

> ⚠️ **重要提醒：** 使用這些腳本前，請務必了解其風險，並確保您有適當的備份策略。 