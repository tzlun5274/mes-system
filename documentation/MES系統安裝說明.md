# MES 系統安裝說明

## 🎯 **超級簡單！就像安裝 Windows 軟體一樣**

### **📦 您會得到一個檔案**
- `mes_system_installer_20250827_084411.run` (約 27MB)
- 這就是完整的 MES 系統安裝檔

### **💻 安裝步驟（只需 3 步）**

#### **步驟 1：複製檔案**
將安裝檔複製到要安裝的 Ubuntu 主機上
- 可以用 WinSCP、FileZilla 或任何檔案傳輸工具
- 放在任何目錄都可以（例如：`/home/使用者名稱/`）

#### **步驟 2：給予執行權限**
在 Ubuntu 主機上開啟終端機，輸入：
```bash
chmod +x mes_system_installer_20250827_084411.run
```

#### **步驟 3：執行安裝**
```bash
sudo ./mes_system_installer_20250827_084411.run
```

**就這樣！剩下的完全自動！**

---

## 🚀 **安裝過程會自動完成以下工作**

### **✅ 系統準備**
- 更新 Ubuntu 系統套件
- 安裝 Python3、PostgreSQL、Redis、Nginx
- 建立必要的系統用戶

### **✅ 資料庫設定**
- 自動建立 `mes_db` 資料庫
- 自動建立 `mes_user` 使用者
- 自動設定權限

### **✅ MES 系統部署**
- 複製所有程式檔案到 `/var/www/mes`
- 自動建立環境設定檔
- 安裝所有 Python 套件
- 修復所有已知的檔案結構問題

### **✅ 服務設定**
- 建立 Gunicorn 網頁服務
- 建立 Celery 背景任務服務
- 設定 Nginx 反向代理
- 自動啟動所有服務

### **✅ 資料庫初始化**
- 自動執行資料庫遷移
- 修復所有遷移依賴問題
- 建立管理員帳號

---

## 🌐 **安裝完成後**

### **訪問網站**
- 開啟瀏覽器
- 輸入主機 IP 位址：`http://主機IP`
- 例如：`http://192.168.1.28`

### **管理員登入**
- **用戶名**：`admin`
- **密碼**：`admin123`
- **管理後台**：`http://主機IP/admin`

---

## 🔧 **環境自動偵測**

### **正式環境**
- 如果主機上沒有其他 MES 服務，會安裝為正式環境
- 使用端口：`80`（標準網頁端口）
- 服務名稱：`mes`

### **測試環境**
- 如果主機上已有 MES 服務，會自動安裝為測試環境
- 使用端口：`8001`
- 服務名稱：`mes-test`
- 訪問地址：`http://主機IP:8001`

---

## ⏱️ **安裝時間**

- **小型主機**：約 10-15 分鐘
- **一般主機**：約 5-10 分鐘
- **高效能主機**：約 3-5 分鐘

---

## 🛠️ **如果需要管理服務**

### **查看服務狀態**
```bash
sudo systemctl status mes.service
```

### **重啟服務**
```bash
sudo systemctl restart mes.service
```

### **查看服務日誌**
```bash
sudo journalctl -u mes.service -f
```

---

## 📞 **需要幫助？**

### **常見問題**
1. **安裝卡住了？**
   - 等待網路下載套件，請耐心等待
   - 確保主機有網路連線

2. **無法訪問網站？**
   - 檢查防火牆設定
   - 確認服務是否正常啟動

3. **忘記管理員密碼？**
   - 預設密碼是 `admin123`
   - 可以透過管理後台修改

### **系統需求**
- **作業系統**：Ubuntu 20.04 或更新版本
- **記憶體**：至少 2GB RAM
- **硬碟空間**：至少 5GB 可用空間
- **網路**：需要網路連線下載套件

---

## 🎉 **安裝成功！**

安裝完成後，您就擁有一個完整的 MES 製造執行系統！

- ✅ 工單管理
- ✅ 生產排程
- ✅ 品質管控
- ✅ 設備管理
- ✅ 物料管理
- ✅ 報表分析
- ✅ ERP 整合
- ✅ AI 智能分析

**立即開始使用您的 MES 系統吧！**
