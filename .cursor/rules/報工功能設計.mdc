---
description:
globs:
alwaysApply: false
---
1. 工單管理是主模組 報工管理是工單管理的次模組 SMT報工是報工管理的次模組 SMT現場報工跟SMT補登報工是SMT報工的次模組。
2. 工單管理是主模組 報工管理是工單管理的次模組 作業員報工是報工管理的次模組 作業員現場報工跟作業員補登報工是作業員報工的次模組。
SMT報工為SMT產線專用的報工模組，工序跟設備都只能跟SMT有關
時間格式不能有上午跟下午這種現代化的格式 填報人員看不懂這種格式
在原有的JS功能下不變的狀態下，產品編號變成手動輸入，工單號碼固定 RD樣品，工單預設生產數量預設是0的JS語法，不準修改原有JS語法功能。

3. 靜止變更作業員報工跟SMT報工資料表欄位 必須保持一致 依照作業員報工資料表為主要
資料表 所以報工資料表都必須跟作業員報工資料表一樣不能多不能少 

4. 資料表欄位格式:
基本資訊欄位
operator - 作業員（CharField，純文字輸入）
company_code - 公司代號（CharField）
工單相關欄位
workorder - 工單號碼（ForeignKey 到 WorkOrder）
original_workorder_number - 原始工單號碼（CharField）
product_id - 產品編號（CharField）
planned_quantity - 工單預設生產數量（IntegerField）
製程相關欄位
process - 工序（ForeignKey 到 ProcessName）
operation - 工序名稱（CharField）
equipment - 使用的設備（ForeignKey 到 Equipment）
時間相關欄位
work_date - 日期（DateField）
start_time - 開始時間（TimeField）
end_time - 結束時間（TimeField）
休息時間相關欄位
has_break - 是否有休息時間（BooleanField）
break_start_time - 休息開始時間（TimeField）
break_end_time - 休息結束時間（TimeField）
break_hours - 休息時數（DecimalField）
工時計算欄位
work_hours_calculated - 工作時數（DecimalField）
overtime_hours_calculated - 加班時數（DecimalField）
數量相關欄位
work_quantity - 工作數量（IntegerField）
defect_quantity - 不良品數量（IntegerField）
狀態欄位
is_completed - 是否已完工（BooleanField）
核准相關欄位
approval_status - 核准狀態（CharField）
approved_by - 核准人員（CharField）
approved_at - 核准時間（DateTimeField）
approval_remarks - 核准備註（TextField）
駁回相關欄位
rejection_reason - 駁回原因（TextField）
rejected_by - 駁回人員（CharField）
rejected_at - 駁回時間（DateTimeField）
備註欄位
remarks - 備註（TextField）
abnormal_notes - 異常記錄（TextField）
系統欄位
created_by - 建立人員（CharField）
created_at - 建立時間（DateTimeField）
updated_at - 更新時間（DateTimeField）
做業員報工跟SMT報工必須共同使用這個資料表

5. 共同表單格式:
產品編號
工單號碼
作業員
工序
使用的設備
工單預設生產數量
工作數量
不良品數量
報工日期 類型：DateField
HTML5 date picker
新增時預設為今天日期
開始時間 
結束時間
是否已完工
備註
異常記錄

特殊設計欄位：
work_date - 報工日期
類型：DateField
特殊設計：
HTML5 date picker
新增時預設為今天日期

start_time - 開始時間
類型：TimeField（自定義）
特殊設計：
支援手動輸入（HH:MM格式）
自動驗證時間格式
24小時制

end_time - 結束時間
類型：TimeField（自定義）
特殊設計：同 start_time

是否已完工 (勾選欄位)


統一報工資料表
統一報工表單
