# MES å·¥å–®ä½œæ¥­è³‡æ–™è¡¨åˆ†æå ±å‘Š

## ğŸ“‹ ç¸½è¦½

æ ¹æ“šå·¥å–®ç®¡ç†è¦ç¯„å’Œå¯¦éš›è³‡æ–™åº«æª¢æŸ¥ï¼ŒMES å·¥å–®ä½œæ¥­ç³»çµ±ç›®å‰å…±æœ‰ **37å€‹è³‡æ–™è¡¨**ï¼Œå…¶ä¸­åŒ…å« **15å€‹å¤šé¤˜çš„è³‡æ–™è¡¨**ã€‚

## ğŸ—ï¸ æ¨™æº–è³‡æ–™è¡¨æ¸…å–®ï¼ˆ22å€‹ï¼‰

### 1. å·¥å–®ç®¡ç†ä¸»æ¨¡çµ„ (workorder) - 9å€‹è³‡æ–™è¡¨
- âœ… `workorder_workorder` - å·¥å–®ä¸»è¡¨ï¼ˆçµ±ä¸€è³‡æ–™ä¾†æºï¼‰
- âœ… `workorder_workorderprocess` - å·¥å–®å·¥åºæ˜ç´°
- âœ… `workorder_workorderprocesslog` - å·¥å–®å·¥åºæ—¥èªŒ
- âœ… `workorder_assignment` - å·¥å–®åˆ†é…
- âœ… `workorder_process_capacity` - å·¥åºç”¢èƒ½è¨­å®š
- âœ… `workorder_production` - ç”Ÿç”¢ä¸­å·¥å–®
- âœ… `workorder_production_detail` - ç”Ÿç”¢å ±å·¥æ˜ç´°
- âœ… `workorder_auto_management_config` - è‡ªå‹•ç®¡ç†é…ç½®
- âœ… `workorder_consistency_check_result` - ä¸€è‡´æ€§æª¢æŸ¥çµæœ

### 2. å…¬å¸è£½ä»¤å–®å­æ¨¡çµ„ (workorder_erp) - 4å€‹è³‡æ–™è¡¨
- âœ… `workorder_erp_companyorder` - å…¬å¸è£½ä»¤å–®
- âœ… `workorder_erp_prdmkordmain` - ERPè£½ä»¤ä¸»æª”
- âœ… `workorder_erp_prdmkordmats` - ERPè£½ä»¤æ˜ç´°
- âœ… `workorder_erp_systemconfig` - ERPç³»çµ±é…ç½®

### 3. MESå·¥å–®ä½œæ¥­å­æ¨¡çµ„ (mes_workorder_operation) - 3å€‹è³‡æ–™è¡¨
- âœ… `mes_workorder_operation` - MESå·¥å–®ä½œæ¥­ä¸»è¡¨
- âœ… `mes_workorder_operation_detail` - MESå·¥å–®ä½œæ¥­æ˜ç´°
- âœ… `mes_workorder_operation_history` - MESå·¥å–®ä½œæ¥­æ­·å²

### 4. æ´¾å·¥å–®å­æ¨¡çµ„ (workorder_dispatch) - 3å€‹è³‡æ–™è¡¨
- âœ… `workorder_dispatch` - æ´¾å·¥å–®ä¸»è¡¨
- âœ… `workorder_dispatch_process` - æ´¾å·¥å–®å·¥åº
- âœ… `workorder_dispatch_history` - æ´¾å·¥æ­·å²è¨˜éŒ„

### 5. å¡«å ±ä½œæ¥­å­æ¨¡çµ„ (workorder_fill_work) - 1å€‹è³‡æ–™è¡¨
- âœ… `workorder_fill_work` - å¡«å ±ä½œæ¥­

### 6. å·²å®Œå·¥å·¥å–®å­æ¨¡çµ„ (workorder_completed_workorder) - 5å€‹è³‡æ–™è¡¨
- âœ… `workorder_completed_workorder` - å·²å®Œå·¥å·¥å–®
- âœ… `workorder_completed_workorder_process` - å·²å®Œå·¥å·¥å–®å·¥åº
- âœ… `workorder_completed_production_report` - å·²å®Œå·¥ç”Ÿç”¢å ±è¡¨
- âœ… `workorder_auto_allocation_settings` - è‡ªå‹•åˆ†é…è¨­å®š
- âœ… `workorder_auto_allocation_log` - è‡ªå‹•åˆ†é…æ—¥èªŒ

### 7. ç¾å ´å ±å·¥å­æ¨¡çµ„ (workorder_onsite_report) - 4å€‹è³‡æ–™è¡¨
- âœ… `workorder_onsite_report` - ç¾å ´å ±å·¥è¨˜éŒ„
- âœ… `workorder_onsite_report_session` - ç¾å ´å ±å·¥å·¥ä½œæ™‚æ®µ
- âœ… `workorder_onsite_report_history` - ç¾å ´å ±å·¥æ­·å²è¨˜éŒ„
- âœ… `workorder_onsite_report_config` - ç¾å ´å ±å·¥é…ç½®

## âŒ å¤šé¤˜è³‡æ–™è¡¨æ¸…å–®ï¼ˆ15å€‹ï¼‰

### 1. é‡è¤‡çš„ ERP ç›¸é—œè³‡æ–™è¡¨ï¼ˆ6å€‹ï¼‰
é€™äº›è³‡æ–™è¡¨èˆ‡ `workorder_erp` å­æ¨¡çµ„çš„è³‡æ–™è¡¨å®Œå…¨ç›¸åŒï¼Œå±¬æ–¼é‡è¤‡å»ºç«‹ï¼š

- âŒ `workorder_companyorder_companyorder` - é‡è¤‡ï¼šèˆ‡ `workorder_erp_companyorder` ç›¸åŒ
- âŒ `workorder_companyorder_prdmkordmain` - é‡è¤‡ï¼šèˆ‡ `workorder_erp_prdmkordmain` ç›¸åŒ
- âŒ `workorder_companyorder_prdmkordmats` - é‡è¤‡ï¼šèˆ‡ `workorder_erp_prdmkordmats` ç›¸åŒ
- âŒ `workorder_companyorder_systemconfig` - é‡è¤‡ï¼šèˆ‡ `workorder_erp_systemconfig` ç›¸åŒ
- âŒ `workorder_prdmkordmain` - é‡è¤‡ï¼šèˆ‡ `workorder_erp_prdmkordmain` ç›¸åŒ
- âŒ `workorder_prdmkordmats` - é‡è¤‡ï¼šèˆ‡ `workorder_erp_prdmkordmats` ç›¸åŒ

### 2. èˆŠç‰ˆå·¥å–®è³‡æ–™è¡¨ï¼ˆ2å€‹ï¼‰
é€™äº›æ˜¯èˆŠç‰ˆæœ¬çš„å·¥å–®è³‡æ–™è¡¨ï¼Œå·²è¢«æ–°ç‰ˆå–ä»£ï¼š

- âŒ `work_order_workorder` - èˆŠç‰ˆï¼šåªæœ‰2å€‹æ¬„ä½ï¼Œå·²è¢« `workorder_workorder` å–ä»£
- âŒ `work_order_workorderoperationlog` - èˆŠç‰ˆï¼šåªæœ‰4å€‹æ¬„ä½ï¼Œå·²è¢« `workorder_workorderprocesslog` å–ä»£

### 3. å‚™ä»½å’Œè‡¨æ™‚è³‡æ–™è¡¨ï¼ˆ3å€‹ï¼‰
é€™äº›æ˜¯å‚™ä»½æˆ–è‡¨æ™‚ç”¨é€”çš„è³‡æ–™è¡¨ï¼š

- âŒ `backup_workorder_operator_realtime_report` - å‚™ä»½ï¼šä½œæ¥­å“¡å³æ™‚å ±è¡¨å‚™ä»½
- âŒ `workorder_çµ±ä¸€å ±å·¥è¨˜éŒ„` - è‡¨æ™‚ï¼šçµ±ä¸€å ±å·¥è¨˜éŒ„ï¼ˆä¸­æ–‡å‘½åï¼‰
- âŒ `workorder_report_data` - è‡¨æ™‚ï¼šå ±è¡¨è³‡æ–™ï¼ˆåŠŸèƒ½é‡è¤‡ï¼‰

### 4. ç­æ¬¡å’Œæ’ç¨‹è³‡æ–™è¡¨ï¼ˆ2å€‹ï¼‰
é€™äº›è³‡æ–™è¡¨ä¸å±¬æ–¼å·¥å–®ç®¡ç†æ ¸å¿ƒåŠŸèƒ½ï¼š

- âŒ `workorder_shift` - ç­æ¬¡ç®¡ç†ï¼šå±¬æ–¼äººäº‹ç®¡ç†ç¯„ç–‡
- âŒ `workorder_workschedule` - å·¥ä½œæ’ç¨‹ï¼šå±¬æ–¼æ’ç¨‹ç®¡ç†ç¯„ç–‡

### 5. ç³»çµ±é…ç½®é‡è¤‡ï¼ˆ2å€‹ï¼‰
é€™äº›æ˜¯é‡è¤‡çš„ç³»çµ±é…ç½®è³‡æ–™è¡¨ï¼š

- âŒ `workorder_systemconfig` - é‡è¤‡ï¼šèˆ‡ `workorder_erp_systemconfig` ç›¸åŒ

## ğŸ” è©³ç´°åˆ†æ

### é‡è¤‡è³‡æ–™è¡¨åˆ†æ

#### 1. ERP ç›¸é—œé‡è¤‡è³‡æ–™è¡¨
æ‰€æœ‰é‡è¤‡çš„ ERP è³‡æ–™è¡¨éƒ½å…·æœ‰å®Œå…¨ç›¸åŒçš„æ¬„ä½çµæ§‹ï¼š

**PrdMKOrdMain ç³»åˆ—ï¼ˆ3å€‹é‡è¤‡ï¼‰ï¼š**
- `workorder_erp_prdmkordmain` âœ…ï¼ˆæ¨™æº–ï¼‰
- `workorder_companyorder_prdmkordmain` âŒï¼ˆé‡è¤‡ï¼‰
- `workorder_prdmkordmain` âŒï¼ˆé‡è¤‡ï¼‰

**PrdMkOrdMats ç³»åˆ—ï¼ˆ3å€‹é‡è¤‡ï¼‰ï¼š**
- `workorder_erp_prdmkordmats` âœ…ï¼ˆæ¨™æº–ï¼‰
- `workorder_companyorder_prdmkordmats` âŒï¼ˆé‡è¤‡ï¼‰
- `workorder_prdmkordmats` âŒï¼ˆé‡è¤‡ï¼‰

**SystemConfig ç³»åˆ—ï¼ˆ3å€‹é‡è¤‡ï¼‰ï¼š**
- `workorder_erp_systemconfig` âœ…ï¼ˆæ¨™æº–ï¼‰
- `workorder_companyorder_systemconfig` âŒï¼ˆé‡è¤‡ï¼‰
- `workorder_systemconfig` âŒï¼ˆé‡è¤‡ï¼‰

**CompanyOrder ç³»åˆ—ï¼ˆ2å€‹é‡è¤‡ï¼‰ï¼š**
- `workorder_erp_companyorder` âœ…ï¼ˆæ¨™æº–ï¼‰
- `workorder_companyorder_companyorder` âŒï¼ˆé‡è¤‡ï¼‰

#### 2. èˆŠç‰ˆå·¥å–®è³‡æ–™è¡¨
- `work_order_workorder`ï¼šåªæœ‰ `id` å’Œ `name` æ¬„ä½ï¼ŒåŠŸèƒ½éæ–¼ç°¡å–®
- `work_order_workorderoperationlog`ï¼šåªæœ‰åŸºæœ¬æ—¥èªŒæ¬„ä½ï¼ŒåŠŸèƒ½ä¸å®Œæ•´

#### 3. å‚™ä»½å’Œè‡¨æ™‚è³‡æ–™è¡¨
- `backup_workorder_operator_realtime_report`ï¼šæ˜é¡¯æ˜¯å‚™ä»½ç”¨é€”
- `workorder_çµ±ä¸€å ±å·¥è¨˜éŒ„`ï¼šä½¿ç”¨ä¸­æ–‡å‘½åï¼Œä¸ç¬¦åˆå‘½åè¦ç¯„
- `workorder_report_data`ï¼šåŠŸèƒ½èˆ‡å…¶ä»–å ±è¡¨è³‡æ–™è¡¨é‡è¤‡

## ğŸ“Š çµ±è¨ˆæ‘˜è¦

| é¡åˆ¥ | æ¨™æº–è³‡æ–™è¡¨ | å¤šé¤˜è³‡æ–™è¡¨ | ç¸½è¨ˆ |
|------|------------|------------|------|
| å·¥å–®ç®¡ç†ä¸»æ¨¡çµ„ | 9 | 0 | 9 |
| å…¬å¸è£½ä»¤å–®å­æ¨¡çµ„ | 4 | 6 | 10 |
| MESå·¥å–®ä½œæ¥­å­æ¨¡çµ„ | 3 | 0 | 3 |
| æ´¾å·¥å–®å­æ¨¡çµ„ | 3 | 0 | 3 |
| å¡«å ±ä½œæ¥­å­æ¨¡çµ„ | 1 | 0 | 1 |
| å·²å®Œå·¥å·¥å–®å­æ¨¡çµ„ | 5 | 0 | 5 |
| ç¾å ´å ±å·¥å­æ¨¡çµ„ | 4 | 0 | 4 |
| å…¶ä»–/å‚™ä»½ | 0 | 9 | 9 |
| **ç¸½è¨ˆ** | **29** | **15** | **44** |

## ğŸš¨ å»ºè­°æ¸…ç†è¡Œå‹•

### ç«‹å³æ¸…ç†ï¼ˆé«˜å„ªå…ˆç´šï¼‰
1. **åˆªé™¤é‡è¤‡çš„ ERP è³‡æ–™è¡¨**ï¼ˆ6å€‹ï¼‰
   - `workorder_companyorder_*` ç³»åˆ—
   - `workorder_prdmkord*` ç³»åˆ—
   - `workorder_systemconfig`

2. **åˆªé™¤èˆŠç‰ˆå·¥å–®è³‡æ–™è¡¨**ï¼ˆ2å€‹ï¼‰
   - `work_order_workorder`
   - `work_order_workorderoperationlog`

### è©•ä¼°æ¸…ç†ï¼ˆä¸­å„ªå…ˆç´šï¼‰
3. **è©•ä¼°å‚™ä»½è³‡æ–™è¡¨**ï¼ˆ3å€‹ï¼‰
   - `backup_workorder_operator_realtime_report`
   - `workorder_çµ±ä¸€å ±å·¥è¨˜éŒ„`
   - `workorder_report_data`

### é‡æ–°åˆ†é¡ï¼ˆä½å„ªå…ˆç´šï¼‰
4. **é‡æ–°åˆ†é¡éæ ¸å¿ƒè³‡æ–™è¡¨**ï¼ˆ2å€‹ï¼‰
   - `workorder_shift` â†’ äººäº‹ç®¡ç†æ¨¡çµ„
   - `workorder_workschedule` â†’ æ’ç¨‹ç®¡ç†æ¨¡çµ„

## âš ï¸ æ³¨æ„äº‹é …

### æ¸…ç†å‰æº–å‚™
1. **è³‡æ–™å‚™ä»½**ï¼šæ¸…ç†å‰å¿…é ˆå®Œæ•´å‚™ä»½æ‰€æœ‰è³‡æ–™
2. **ä¾è³´æª¢æŸ¥**ï¼šæª¢æŸ¥æ˜¯å¦æœ‰å…¶ä»–æ¨¡çµ„ä¾è³´é€™äº›è³‡æ–™è¡¨
3. **ç¨‹å¼ç¢¼æ›´æ–°**ï¼šæ›´æ–°æ‰€æœ‰ç›¸é—œçš„ç¨‹å¼ç¢¼å¼•ç”¨
4. **æ¸¬è©¦é©—è­‰**ï¼šæ¸…ç†å¾Œé€²è¡Œå®Œæ•´çš„åŠŸèƒ½æ¸¬è©¦

### æ¸…ç†é †åº
1. å…ˆæ¸…ç†é‡è¤‡çš„ ERP è³‡æ–™è¡¨
2. å†æ¸…ç†èˆŠç‰ˆå·¥å–®è³‡æ–™è¡¨
3. æœ€å¾Œè©•ä¼°å‚™ä»½å’Œè‡¨æ™‚è³‡æ–™è¡¨

### é¢¨éšªæ§åˆ¶
1. **åˆ†æ‰¹æ¸…ç†**ï¼šä¸è¦ä¸€æ¬¡æ€§åˆªé™¤æ‰€æœ‰å¤šé¤˜è³‡æ–™è¡¨
2. **å›æ»¾æº–å‚™**ï¼šæº–å‚™è³‡æ–™æ¢å¾©æ–¹æ¡ˆ
3. **ç›£æ§ç³»çµ±**ï¼šæ¸…ç†å¾Œå¯†åˆ‡ç›£æ§ç³»çµ±é‹ä½œç‹€æ³

## ğŸ“ çµè«–

MES å·¥å–®ä½œæ¥­ç³»çµ±ç›®å‰æœ‰ **15å€‹å¤šé¤˜çš„è³‡æ–™è¡¨**ï¼Œä¸»è¦å•é¡Œæ˜¯ï¼š

1. **é‡è¤‡å»ºç«‹**ï¼šERP ç›¸é—œè³‡æ–™è¡¨é‡è¤‡å»ºç«‹äº†6å€‹
2. **ç‰ˆæœ¬æ··äº‚**ï¼šå­˜åœ¨èˆŠç‰ˆå’Œæ–°ç‰ˆå·¥å–®è³‡æ–™è¡¨
3. **å‘½åä¸è¦ç¯„**ï¼šå­˜åœ¨ä¸­æ–‡å‘½åçš„è³‡æ–™è¡¨
4. **åŠŸèƒ½é‡ç–Š**ï¼šéƒ¨åˆ†è³‡æ–™è¡¨åŠŸèƒ½é‡è¤‡

å»ºè­°æŒ‰ç…§å„ªå…ˆç´šé€æ­¥æ¸…ç†é€™äº›å¤šé¤˜è³‡æ–™è¡¨ï¼Œä»¥æå‡ç³»çµ±çš„ç¶­è­·æ€§å’Œæ•ˆèƒ½ã€‚ 