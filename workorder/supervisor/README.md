# 主管功能模組 (Supervisor Management Module)

## 模組概述

主管功能模組是 MES 系統中專門為主管設計的功能集合，負責報工記錄的審核管理、統計分析、異常處理和資料維護等核心業務。**主管的職責是監督和管理，不包含報工功能。**

## 功能架構

### 1. 審核管理 (Approval Management)
- **待審核清單**: 顯示所有待審核的報工記錄
- **核准操作**: 處理作業員和設備報工記錄的核准
- **駁回操作**: 處理報工記錄的駁回
- **批量核准**: 支援批量核准多筆報工記錄

### 2. 統計分析 (Statistics Analysis)
- **今日統計**: 當日報工記錄統計
- **週統計**: 本週報工記錄統計
- **月統計**: 本月報工記錄統計
- **年統計**: 今年報工記錄統計
- **異常統計**: 異常記錄統計分析

### 3. 異常處理 (Abnormal Management)
- **異常清單**: 顯示所有異常報工記錄
- **異常詳情**: 查看異常記錄的詳細資訊
- **異常分類**: 按類型分類異常記錄

### 4. 資料維護 (Data Maintenance)
- **資料清理**: 清理舊的報工記錄
- **資料備份**: 建立資料庫備份
- **資料優化**: 優化資料庫效能
- **資料匯出**: 匯出報工記錄

## 重要說明

### 主管職責定位
- **監督者角色**: 主管負責監督生產過程，確保品質和效率
- **審核者角色**: 主管負責審核作業員和設備的報工記錄
- **管理者角色**: 主管負責異常處理和資料維護
- **非執行者**: 主管不應該親自進行報工操作

### 報工功能分工
- **作業員報工**: 由 `OperatorSupplementReport` 處理
- **設備報工**: 由 `SMTProductionReport` 處理
- **主管審核**: 由主管功能模組處理審核流程

## 目錄結構

```
workorder/supervisor/
├── __init__.py              # 模組初始化
├── apps.py                  # 應用配置
├── urls.py                  # URL路由配置
├── views.py                 # 視圖函數
├── services.py              # 業務邏輯服務層
├── README.md                # 說明文件
├── static/                  # 靜態檔案
│   └── supervisor/
└── templates/               # 模板檔案
    └── supervisor/
```

## 資料模型關係

### 主管功能相關模型
- `OperatorSupplementReport`: 作業員報工記錄（主管審核對象）
- `SMTProductionReport`: SMT設備報工記錄（主管審核對象）
- **移除**: `SupervisorProductionReport`（主管不應該有報工記錄）

### 審核流程
1. 作業員/設備提交報工記錄
2. 主管查看待審核清單
3. 主管進行核准或駁回操作
4. 系統更新報工記錄狀態 