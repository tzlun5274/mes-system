{% extends 'base.html' %}
{% load static %}

{% block title %}作業員資料維護{% endblock %}

{% block content %}
<div class="container-fluid">
	<nav aria-label="breadcrumb" class="mb-2">
		<ol class="breadcrumb mb-2">
			<li class="breadcrumb-item"><a href="{% url 'workorder:fill_work:fill_work_index' %}"><i class="fas fa-home"></i> 填報管理</a></li>
			<li class="breadcrumb-item"><a href="{% url 'workorder:fill_work:fill_work_settings' %}">填報功能設定</a></li>
			<li class="breadcrumb-item"><a href="{% url 'workorder:fill_work:fill_work_settings_data' %}">填報資料匯入/匯出</a></li>
			<li class="breadcrumb-item active" aria-current="page">作業員資料維護</li>
		</ol>
	</nav>
	<div class="row mb-3">
		<div class="col-12 d-flex justify-content-between align-items-center">
			<h2 class="mb-0"><i class="fas fa-user-cog text-warning"></i> 作業員資料維護</h2>
			
		</div>
	</div>
	{% if messages %}
		{% for message in messages %}
		<div class="alert alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %} alert-dismissible fade show" role="alert">
			{{ message }}
			<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
		</div>
		{% endfor %}
	{% endif %}
	<div class="card mb-3">
		<div class="card-body d-flex gap-2 flex-wrap">
			<a href="{% url 'workorder:fill_work:fill_work_template_operator' %}" class="btn btn-outline-primary">
				<i class="fas fa-download"></i> 下載範本 (CSV)
			</a>
			<a href="{% url 'workorder:fill_work:fill_work_template_operator_xlsx' %}" class="btn btn-outline-primary">
				<i class="fas fa-download"></i> 下載範本 (Excel)
			</a>
			<form method="post" action="{% url 'workorder:fill_work:fill_work_import_operator' %}" enctype="multipart/form-data" class="d-inline-block">
				{% csrf_token %}
				<input type="file" name="file" accept=".csv,.xlsx" required class="form-control d-inline-block" style="width:260px;display:inline-block;">
				<button type="submit" class="btn btn-success ms-2"><i class="fas fa-upload"></i> 匯入 (CSV)</button>
				<button type="submit" class="btn btn-success ms-2"><i class="fas fa-upload"></i> 匯入 (Excel)</button>
			</form>
			<a href="{% url 'workorder:fill_work:fill_work_export_operator' %}" class="btn btn-outline-secondary">
				<i class="fas fa-file-export"></i> 匯出 (CSV)
			</a>
			<a href="{% url 'workorder:fill_work:fill_work_export_operator_xlsx' %}" class="btn btn-outline-secondary">
				<i class="fas fa-file-excel"></i> 匯出 (Excel)
			</a>
		</div>
	</div>
	<div class="card">
		<div class="card-body">
			<p class="text-muted mb-0">欄位順序與名稱（CSV 標頭）如下：作業員名稱、公司名稱、報工日期、開始時間、結束時間、工單號、產品編號、工序名稱、設備名稱、報工數量、不良品數量、備註、異常紀錄、工作時數、加班時數。</p>
		</div>
	</div>
</div>
{% endblock %} 