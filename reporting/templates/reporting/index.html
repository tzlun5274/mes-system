{% extends 'base.html' %}
{% load static %}

{% block title %}報表管理 - MES系統{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">
                        <i class="fas fa-chart-bar"></i> 報表管理系統
                    </h3>
                </div>
                <div class="card-body">
                    <!-- 系統統計 -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <h5 class="mb-3">
                                <i class="fas fa-chart-pie text-primary"></i> 系統統計
                            </h5>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card bg-primary text-white">
                                <div class="card-body text-center">
                                    <h4>{{ total_workorders }}</h4>
                                    <p class="mb-0">總工單數</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card bg-success text-white">
                                <div class="card-body text-center">
                                    <h4>{{ active_workorders }}</h4>
                                    <p class="mb-0">進行中工單</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card bg-warning text-white">
                                <div class="card-body text-center">
                                    <h4>{{ total_operators }}</h4>
                                    <p class="mb-0">作業員數</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card bg-info text-white">
                                <div class="card-body text-center">
                                    <h4>{{ total_equipment }}</h4>
                                    <p class="mb-0">設備數</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 報表功能 -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <h5 class="mb-3">
                                <i class="fas fa-file-alt text-success"></i> 報表功能
                            </h5>
                        </div>
                        <div class="col-md-12 mb-3">
                            <div class="card h-100">
                                <div class="card-body text-center">
                                    <i class="fas fa-file-export fa-3x text-primary mb-3"></i>
                                    <h5 class="card-title">報表匯出</h5>
                                    <p class="card-text">生成各種類型的生產報表，支援 Excel、CSV 和 PDF 格式</p>
                                    <a href="{% url 'reporting:report_export' %}" class="btn btn-primary">
                                        <i class="fas fa-download"></i> 開始匯出
                                    </a>
                                </div>
                            </div>
                        </div>

                    </div>
                    
                    <!-- 報表類型 -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <h5 class="mb-3">
                                <i class="fas fa-chart-line text-info"></i> 報表類型
                            </h5>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card border-primary">
                                <div class="card-header bg-primary text-white">
                                    <h6 class="mb-0"><i class="fas fa-calendar-day"></i> 工作報表</h6>
                                </div>
                                <div class="card-body">
                                    <ul class="list-unstyled mb-0">
                                        <li><i class="fas fa-check text-success"></i> 日工作報表</li>
                                        <li><i class="fas fa-check text-success"></i> 週工作報表</li>
                                        <li><i class="fas fa-check text-success"></i> 月工作報表</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card border-success">
                                <div class="card-header bg-success text-white">
                                    <h6 class="mb-0"><i class="fas fa-clock"></i> 工時報表</h6>
                                </div>
                                <div class="card-body">
                                    <ul class="list-unstyled mb-0">
                                        <li><i class="fas fa-check text-success"></i> 作業員工時</li>
                                        <li><i class="fas fa-check text-success"></i> SMT設備工時</li>
                                        <li><i class="fas fa-check text-success"></i> 加班統計</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card border-warning">
                                <div class="card-header bg-warning text-white">
                                    <h6 class="mb-0"><i class="fas fa-star"></i> 績效報表</h6>
                                </div>
                                <div class="card-body">
                                    <ul class="list-unstyled mb-0">
                                        <li><i class="fas fa-check text-success"></i> 作業員績效</li>
                                        <li><i class="fas fa-check text-success"></i> 設備效率</li>
                                        <li><i class="fas fa-check text-success"></i> 品質分析</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card border-danger">
                                <div class="card-header bg-danger text-white">
                                    <h6 class="mb-0"><i class="fas fa-exclamation-triangle"></i> 異常報表</h6>
                                </div>
                                <div class="card-body">
                                    <ul class="list-unstyled mb-0">
                                        <li><i class="fas fa-check text-success"></i> 異常報工</li>
                                        <li><i class="fas fa-check text-success"></i> 效率分析</li>
                                        <li><i class="fas fa-check text-success"></i> 統計報告</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 快速操作 -->
                    <div class="row">
                        <div class="col-12">
                            <div class="alert alert-info">
                                <h5><i class="fas fa-info-circle"></i> 使用說明</h5>
                                <p class="mb-2">報表管理系統提供完整的生產數據分析和匯出功能。</p>
                                <ul class="mb-0">
                                    <li>選擇「報表匯出」可以生成各種類型的生產報表</li>
                                    <li>支援 Excel、CSV 和 PDF 三種匯出格式</li>
                                    <li>可以選擇今日、本週、本月或自訂日期範圍</li>
                                    <li>審核管理功能請至「工單管理」→「主管功能」→「審核管理」</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 